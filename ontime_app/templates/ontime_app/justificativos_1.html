{% extends 'ontime_app/base.html' %}
{% load static %}

{% block title %}Subir Justificativo - OnTime{% endblock %}

{% block content %}
<!-- Botón de flecha para retroceder -->
<div class="mt-6 text-center">
  <a href="javascript:history.back()" class="flex items-center text-gray-600 hover:text-green-800 transition-all duration-300">
      <i class="fas fa-arrow-left mr-2"></i>
      Regresar
  </a>
</div>
  <div class="bg-gray-100 shadow-xl rounded-3xl p-6 md:p-10 w-full max-w-4xl mx-auto mt-18">
    
    <h2 class="text-4xl font-extrabold text-gray-800 text-center mb-6 animate-pulse">Sube tu Justificativo</h2>
    <p class="text-center text-gray-600 mb-8">Envía tu soporte para justificar ausencias o retrasos.</p>

    <!-- Formulario de Justificativo -->
    <div class="bg-white shadow-xl rounded-lg p-6">
      <form action="#" method="POST" class="space-y-6">
        <!-- Selección de tipo de justificativo -->
        <div>
          <label for="tipo_justificativo" class="block text-sm font-medium text-gray-700">Tipo de Justificativo</label>
          <select id="tipo_justificativo" name="tipo_justificativo" class="w-full p-3 mt-1 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500 hover:bg-gray-50 text-gray-600">
            <option value="medico">Médico</option>
            <option value="personal">Personal</option>
            <option value="familia">Familiar</option>
            <option value="otro">Otro</option>
          </select>
        </div>

        <!-- Fecha de la ausencia -->
        <div>
          <label for="fecha_ausencia" class="block text-sm font-medium text-gray-700">Fecha de la Ausencia</label>
          <input type="date" id="fecha_ausencia" name="fecha_ausencia" class="w-full p-3 mt-1 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500 hover:bg-gray-50 text-gray-600" required />
        </div>

        <!-- Descripción del justificativo -->
        <div>
          <label for="descripcion" class="block text-sm font-medium text-gray-700">Descripción del Justificativo</label>
          <textarea id="descripcion" name="descripcion" rows="4" class="w-full p-3 mt-1 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500 hover:bg-gray-50 text-gray-600" placeholder="Escribe aquí el motivo de tu ausencia..." required></textarea>
        </div>

        <!-- Subir archivo -->
        <div>
          <label for="archivo" class="block text-sm font-medium text-gray-700">Sube tu archivo (PDF, Imagen)</label>
          <input type="file" id="archivo" name="archivo" accept=".pdf, .jpg, .jpeg, .png" class="w-full p-3 mt-1 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500 hover:bg-gray-50 text-gray-400" />
        </div>

        <!-- Botón de enviar -->
<div class="flex justify-center">
  <button type="submit" class="bg-green-600 text-white py-3 px-6 w-full md:w-auto rounded-lg hover:bg-green-700 transition duration-300 ease-in-out shadow-xl focus:ring-4 focus:ring-green-500 focus:outline-none mt-5">
    Enviar Justificativo
  </button>
</div>

    <!-- Mensaje de éxito -->
    <div class="mt-8 text-center text-green-600 hidden" id="mensaje-exito">
      <p class="text-xl font-medium">¡Justificativo Enviado Exitosamente!</p>
    </div>
  </div>

  <!-- Script para la interacción -->
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const form = document.querySelector('form');
      const mensajeExito = document.getElementById('mensaje-exito');

      form.addEventListener('submit', function (e) {
        e.preventDefault(); // Evita el envío del formulario para simular éxito

        // Aquí podrías agregar la lógica para procesar el formulario

        // Mostrar mensaje de éxito
        form.reset(); // Resetear el formulario
        mensajeExito.classList.remove('hidden'); // Mostrar el mensaje de éxito
        setTimeout(function () {
          mensajeExito.classList.add('hidden'); // Ocultar el mensaje después de 3 segundos
        }, 3000);
      });
    });
  </script>
{% endblock %}
