{% extends 'ontime_app/base.html' %}
{% load static %}

{% block title %}Recuperar Contraseña - OnTime{% endblock %}

{% block content %}
<!-- Botón de flecha para retroceder -->
<div class="mt-6 text-center">
  <a href="javascript:history.back()" class="flex items-center text-gray-600 hover:text-green-800 transition-all duration-300">
      <i class="fas fa-arrow-left mr-2"></i>
      Regresar
  </a>
</div>
  <div class="bg-gray-100 shadow-xl rounded-3xl p-10 w-full max-w-lg mx-auto mt-20 animate__animated animate__fadeIn animate__faster">

    <h2 class="text-4xl font-extrabold text-gray-800 animate-pulse text-center mb-6">Recuperar Contraseña</h2>
    <p class="text-center text-gray-600 mb-8">Ingresa el correo electrónico asociado a tu cuenta.</p>

    <!-- 💬 Mensaje de éxito (invisible por defecto) -->
    <div id="mensajeExito" class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg mb-6 text-center hidden">
      Se ha enviado un enlace de recuperación a tu correo.
    </div>

    <form id="form-recuperar" method="POST">
      {% csrf_token %}

      <div class="mb-6">
        <label for="correo" class="block text-sm font-medium text-gray-800 mb-1">Correo Electrónico</label>
        <input 
          type="email" 
          id="correo" 
          name="correo" 
          required
          placeholder="Ingresa tu correo electrónico"
          class="mt-1 block w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300 text-gray-800"
        >
      </div>

      <button 
        type="button" 
        onclick="mostrarMensaje()" 
        class="w-full bg-green-600 text-white py-3 rounded-lg hover:bg-green-700 transition duration-300 shadow-md focus:ring-4 focus:ring-green-500 focus:outline-none"
      >
        Enviar enlace
      </button>

      <div class="text-center mt-6">
        <a href="{% url 'iniciar_sesion' %}" class="text-green-600 underline">Volver al inicio de sesión</a>
      </div>
    </form>
  </div>

  <!-- 🧠 Script para mostrar y ocultar el mensaje -->
  <script>
    function mostrarMensaje() {
      // Muestra el mensaje de éxito
      const mensaje = document.getElementById('mensajeExito');
      mensaje.classList.remove('hidden'); // Quita la clase 'hidden' para que aparezca

      // Oculta el mensaje después de 4 segundos
      setTimeout(() => {
        mensaje.classList.add('hidden'); // Añade la clase 'hidden' para ocultarlo
      }, 4000);
    }
  </script>
{% endblock %}
